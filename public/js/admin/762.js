"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[762,495],{1429:(e,t,a)=>{a.d(t,{Z:()=>M});var n,r,o,l,i,s,c,d,u,m,p,f,h,v,b=a(7244);function g(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t){E(e,t),t.add(e)}function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function w(e,t,a){E(e,t),t.set(e,a)}function E(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,C(e,t,"get"))}function x(e,t,a){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return a}function k(e,t,a){return function(e,t,a){if(t.set)t.set.call(e,a);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=a}}(e,C(e,t,"set"),a),a}function C(e,t,a){if(!t.has(e))throw new TypeError("attempted to "+a+" private field on non-instance");return t.get(e)}function A(e,t){return void 0!==e?e:t}function T(){var e=this,t=document.body.querySelectorAll(".toast-".concat(y(this,p))),a=[];t.forEach((function(n,r){n instanceof HTMLElement&&(0===r&&a.push(0),t[r+1]instanceof HTMLElement&&a.push(a[r]+n.offsetHeight),n.style[y(e,f)[0]]=a[r]+y(e,d)*r+"px")}))}const M={Toast:(n=new WeakMap,r=new WeakMap,o=new WeakMap,l=new WeakMap,i=new WeakMap,s=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,m=new WeakMap,p=new WeakMap,f=new WeakMap,h=new WeakSet,v=new WeakSet,function(){function e(t){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),N(this,v),N(this,h),w(this,n,{writable:!0,value:void 0}),w(this,r,{writable:!0,value:void 0}),w(this,o,{writable:!0,value:void 0}),w(this,l,{writable:!0,value:void 0}),w(this,i,{writable:!0,value:void 0}),w(this,s,{writable:!0,value:void 0}),w(this,c,{writable:!0,value:void 0}),w(this,d,{writable:!0,value:void 0}),w(this,u,{writable:!0,value:void 0}),w(this,m,{writable:!0,value:void 0}),w(this,p,{writable:!0,value:void 0}),w(this,f,{writable:!0,value:void 0}),V(this,"element",void 0),V(this,"bootstrapToast",void 0),k(this,n,x(this,h,A).call(this,t.body,"")),k(this,r,x(this,h,A).call(this,t.animation,!0)),k(this,o,x(this,h,A).call(this,t.autohide,!0)),k(this,l,x(this,h,A).call(this,t.btnClose,!0)),k(this,i,x(this,h,A).call(this,t.btnCloseWhite,!1)),k(this,s,x(this,h,A).call(this,t.className,"")),k(this,c,x(this,h,A).call(this,t.delay,3e3)),k(this,d,x(this,h,A).call(this,t.gap,16)),k(this,u,x(this,h,A).call(this,t.header,"")),k(this,m,x(this,h,A).call(this,t.margin,"1rem")),k(this,p,x(this,h,A).call(this,t.placement,"top-right")),k(this,f,y(this,p).split("-"));var g='<button type="button" hidden class="btn-close flex-shrink-0" data-bs-dismiss="toast" aria-label="Close"></button>',E='style="margin:'.concat(y(this,m),";").concat(y(this,f)[0],":0;").concat(y(this,f)[1],":").concat(y(this,r)?"-50%":0,';z-index:1081"'),C=document.createElement("template");C.innerHTML='<div class="toast position-fixed toast-'.concat(y(this,p)," ").concat(y(this,s),'" ').concat(E,' role="alert" aria-live="assertive" aria-atomic="true">\n\t\t\t\t<div class="toast-header" hidden><div class="d-flex align-items-center flex-grow-1">').concat(y(this,u),"</div>").concat(g,'</div>\n\t\t\t\t<div class="toast-body"><div class="d-flex w-100"><div class="flex-grow-1">').concat(y(this,n),"</div>").concat(g,"</div></div>\n\t\t\t</div>");var M=C.content.firstChild;if(M instanceof HTMLDivElement){var S=M.querySelectorAll(".btn-close");S.forEach((function(e){y(a,l)&&e.removeAttribute("hidden"),y(a,i)&&e.classList.add("btn-close-white")})),""!==y(this,u)&&(M.querySelector(".toast-header").removeAttribute("hidden"),S[1].remove()),this.element=M}document.body.insertAdjacentElement("afterbegin",this.element),this.bootstrapToast=new b.FN(this.element,{animation:y(this,r),autohide:y(this,o),delay:y(this,c)}),this.element.addEventListener("hidden.bs.toast",(function(){a.element.remove(),x(a,v,T).call(a)})),this.element.addEventListener("show.bs.toast",(function(){var e=a,t=setInterval((function(){if(e.element.offsetHeight>0){if(clearInterval(t),y(e,r)){var a=1e3*parseFloat(getComputedStyle(e.element).transitionDuration);e.element.style.transition="all ".concat(4*a,"ms cubic-bezier(0.16, 1, 0.3, 1), opacity ").concat(a,"ms linear"),e.element.style[y(e,f)[1]]=0}x(e,v,T).call(e)}}),0)}))}var t,a,E;return t=e,(a=[{key:"show",value:function(){this.bootstrapToast.show()}},{key:"hide",value:function(){this.bootstrapToast.hide()}}])&&g(t.prototype,a),E&&g(t,E),Object.defineProperty(t,"prototype",{writable:!1}),e}())}},4917:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(4015),r=a.n(n),o=a(3645),l=a.n(o)()(r());l.push([e.id,".img-thumbnail[data-v-bd73d08e]{height:100px;-o-object-fit:cover;object-fit:cover;width:100px}img[data-v-bd73d08e]{height:100px!important;width:100px!important}","",{version:3,sources:["webpack://./resources/js/admin/Pages/Admins/Products/Index.vue"],names:[],mappings:"AACA,gCACE,YAAA,CAEA,mBAAA,CAAA,gBAAA,CADA,WACF,CAGA,qBACE,sBAAA,CACA,qBAAF",sourcesContent:["\n.img-thumbnail {\n  height: 100px;\n  width: 100px;\n  object-fit: cover;\n}\n\nimg {\n  height: 100px !important;\n  width: 100px !important;\n}\n"],sourceRoot:""}]);const i=l},6762:(e,t,a)=>{a.r(t),a.d(t,{default:()=>G});var n=a(821),r=function(e){return(0,n.pushScopeId)("data-v-bd73d08e"),e=e(),(0,n.popScopeId)(),e},o=r((function(){return(0,n.createElementVNode)("title",null,"Товары на сайта",-1)})),l=r((function(){return(0,n.createElementVNode)("div",{class:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},[(0,n.createElementVNode)("h1",{class:"h2"},"Товары")],-1)})),i={class:"row justify-content-center"},s={class:"col-12 col-md-10"},c={class:"card"},d={class:"card-body"},u={class:"row align-items-center gy-3"},m={class:"col-12 col-md-6 col-lg-3"},p=r((function(){return(0,n.createElementVNode)("div",{class:"col-12 col-md-auto"},[(0,n.createElementVNode)("button",{class:"h-100 btn btn-dark rounded-0",type:"submit"}," Фильтровать ")],-1)})),f={class:"row gy-3 justify-content-center mt-5"},h={class:"col-12 d-flex justify-content-end mt-0 col-md-10"},v=(0,n.createTextVNode)(" Создать Товар "),b={class:"col-12 col-md-10"},g={class:"card px-3"},N={class:"card-body"},V={class:"table table-hover align-middle"},w=r((function(){return(0,n.createElementVNode)("thead",null,[(0,n.createElementVNode)("tr",null,[(0,n.createElementVNode)("th",{scope:"col"},"№"),(0,n.createElementVNode)("th",null,"Фотография"),(0,n.createElementVNode)("th",{scope:"col"},"Название"),(0,n.createElementVNode)("th",{scope:"col"},"Кол-во"),(0,n.createElementVNode)("th",{scope:"col"},"Стоимость"),(0,n.createElementVNode)("th",{scope:"col"},"Действия")])],-1)})),E={style:{cursor:"pointer"}},y=["onClick"],x=["onClick"],k=["onClick"],C=["onClick"],A=["onClick"],T={class:"text-center"},M=["onClick"],S=[r((function(){return(0,n.createElementVNode)("i",{class:"fa-solid fa-trash"},null,-1)}))],W=r((function(){return(0,n.createElementVNode)("span",null,null,-1)}));var I=a(7757),_=a.n(I),j=a(495),q=a(1429),B=a(9038),$=a(8296),z=a.n($),D=a(9680);function L(e,t,a,n,r,o,l){try{var i=e[o](l),s=i.value}catch(e){return void a(e)}i.done?t(s):Promise.resolve(s).then(n,r)}function F(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return P(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}const H={name:"Index",layout:j.default,components:{InfiniteLoading:z()},data:function(){return{products:[],form:(0,B.cI)({q:null}),page:2}},computed:{serveProducts:function(){var e;return null!==(e=this.$page.props.products)&&void 0!==e?e:null},formData:function(){return this.$page.props.formData}},mounted:function(){var e;(this.form.defaults({q:this.formData.q}).reset(),this.serveProducts)?(e=this.products).push.apply(e,F(this.serveProducts.data)):new q.Z.Toast({body:"Ошибка в принятии данных от сервера",className:"border-0 bg-warning text-dark",btnCloseWhite:!1,autohide:!0,delay:3e3}).show()},methods:{submit:function(){this.form.get("/admin/products")},loadDataFromServer:function(e){var t,a=this;return(t=_().mark((function t(){var n;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/admin/products",{params:{page:a.page,is_json:!0,q:a.form.q}});case 3:(n=t.sent).data.payload.products.data.length>0?setTimeout((function(){var t;a.page++,(t=a.products).push.apply(t,F(n.data.payload.products.data)),e.loaded(),a.page>n.data.payload.products.last_page&&e.complete()}),1e3):e.complete(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.error();case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,a=arguments;return new Promise((function(n,r){var o=t.apply(e,a);function l(e){L(o,n,r,l,i,"next",e)}function i(e){L(o,n,r,l,i,"throw",e)}l(void 0)}))})()},open:function(e){D.Inertia.get("/admin/products/"+e.id+"/edit")},remove:function(e){D.Inertia.delete("/admin/products/"+e,{preserveState:!1,preserveScroll:!1})}}};var O=a(3379),Z=a.n(O),U=a(4917),R={insert:"head",singleton:!1};Z()(U.Z,R);U.Z.locals;const G=(0,a(3744).Z)(H,[["render",function(e,t,a,r,I,_){var j=(0,n.resolveComponent)("Head"),q=(0,n.resolveComponent)("Link"),B=(0,n.resolveComponent)("ImageItem"),$=(0,n.resolveComponent)("InfiniteLoading");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(j,null,{default:(0,n.withCtx)((function(){return[o]})),_:1}),l,(0,n.createElementVNode)("div",i,[(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("div",d,[(0,n.createElementVNode)("form",{onSubmit:t[1]||(t[1]=(0,n.withModifiers)((function(){return _.submit&&_.submit.apply(_,arguments)}),["prevent"]))},[(0,n.createElementVNode)("div",u,[(0,n.createElementVNode)("div",m,[(0,n.withDirectives)((0,n.createElementVNode)("input",{id:"q","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.q=t}),"aria-describedby":"q",class:"form-control rounded-0",name:"q",placeholder:"Найти...",type:"text"},null,512),[[n.vModelText,e.form.q]])]),p])],32)])])])]),(0,n.createElementVNode)("div",f,[(0,n.createElementVNode)("div",h,[(0,n.createVNode)(q,{class:"btn btn-dark fw-light rounded-0",href:"/admin/products/create"},{default:(0,n.withCtx)((function(){return[v]})),_:1})]),(0,n.createElementVNode)("div",b,[(0,n.createElementVNode)("div",g,[(0,n.createElementVNode)("div",N,[(0,n.createElementVNode)("table",V,[w,(0,n.createElementVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.products,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("tr",E,[(0,n.createElementVNode)("th",{scope:"row",onClick:function(t){return _.open(e)}},(0,n.toDisplayString)(e.id),9,y),(0,n.createElementVNode)("td",{onClick:function(t){return _.open(e)}},[e.image?((0,n.openBlock)(),(0,n.createBlock)(B,{key:0,source:e.image.url,class:"img-thumbnail m-0"},null,8,["source"])):(0,n.createCommentVNode)("",!0)],8,x),(0,n.createElementVNode)("td",{onClick:function(t){return _.open(e)}},(0,n.toDisplayString)(e.name),9,k),(0,n.createElementVNode)("td",{onClick:function(t){return _.open(e)}},(0,n.toDisplayString)(e.count),9,C),(0,n.createElementVNode)("td",{onClick:function(t){return _.open(e)}},(0,n.toDisplayString)(new Intl.NumberFormat("ru-Ru").format(e.cost))+" ₸ ",9,A),(0,n.createElementVNode)("td",T,[(0,n.createElementVNode)("button",{class:"btn btn-danger",style:{"z-index":"1000"},type:"button",onClick:function(t){return _.remove(e.id)}},S,8,M)])])})),256))])]),(0,n.createVNode)($,{"first-load":!1,products:e.products,onInfinite:_.loadDataFromServer},{complete:(0,n.withCtx)((function(){return[W]})),_:1},8,["products","onInfinite"])])])])])],64)}],["__scopeId","data-v-bd73d08e"]])},495:(e,t,a)=>{a.r(t),a.d(t,{default:()=>re});var n=a(821),r=(0,n.createElementVNode)("title",null,null,-1),o=(0,n.createElementVNode)("meta",{content:"","head-key":"description",type:"description"},null,-1),l={class:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap shadow"},i=(0,n.createElementVNode)("button",{"aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",class:"navbar-toggler d-md-none collapsed","data-bs-target":"#sidebarMenu","data-bs-toggle":"collapse",type:"button"},[(0,n.createElementVNode)("span",{class:"navbar-toggler-icon"})],-1),s=(0,n.createElementVNode)("a",{class:"navbar-brand col-md-3 col-lg-2 me-0 px-3",href:"/"}," Asay Jurek ",-1),c={class:"navbar-nav"},d={class:"nav-item text-nowrap"},u=(0,n.createTextVNode)(" Выйти "),m={id:"page"},p={class:"container-fluid"},f={class:"row"},h={id:"sidebarMenu",class:"col-md-3 col-lg-2 ps-2 d-md-block bg-light sidebar collapse"},v={class:"position-sticky pt-3"},b={class:"nav flex-column"},g={class:"nav-item"},N=(0,n.createElementVNode)("i",{class:"fa-regular fa-chart-line pe-3"},null,-1),V=(0,n.createTextVNode)(" Главная "),w={class:"nav-item"},E=(0,n.createElementVNode)("i",{class:"fa-regular fa-money-check-pen pe-3"},null,-1),y=(0,n.createTextVNode)(" Заказы "),x={class:"nav-item"},k=(0,n.createElementVNode)("i",{class:"fa-regular fa-bags-shopping pe-3"},null,-1),C=(0,n.createTextVNode)(" Товары "),A={class:"nav-item"},T=(0,n.createElementVNode)("i",{class:"fa-regular fa-users pe-3"},null,-1),M=(0,n.createTextVNode)(" Пользователи "),S=(0,n.createElementVNode)("h6",{class:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[(0,n.createElementVNode)("span",null,"Настройки"),(0,n.createElementVNode)("a",{"aria-label":"Add a new report",class:"link-secondary",href:"#"})],-1),W={class:"nav flex-column mb-2"},I={class:"nav-item"},_=(0,n.createElementVNode)("i",{class:"fa-regular fa-magnifying-glass-dollar pe-3"},null,-1),j=(0,n.createTextVNode)(" SEO "),q={class:"nav-item"},B=(0,n.createElementVNode)("i",{class:"fa-regular fa-shop pe-3"},null,-1),z=(0,n.createTextVNode)(" Магазины "),D={class:"nav-item"},L=(0,n.createElementVNode)("i",{class:"fa-brands fa-yandex pe-3"},null,-1),F=(0,n.createTextVNode)(" Яндекс метрика "),P={class:"nav-item"},H=(0,n.createElementVNode)("i",{class:"fa-regular fa-gear pe-3"},null,-1),O=(0,n.createTextVNode)(" Настройки товаров "),Z={class:"nav-item"},U=(0,n.createElementVNode)("i",{class:"fa-regular fa-gear pe-3"},null,-1),R=(0,n.createTextVNode)(" Главная страница "),G=(0,n.createElementVNode)("h6",{class:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[(0,n.createElementVNode)("span",null,"Быстрый доступ"),(0,n.createElementVNode)("a",{"aria-label":"Add a new report",class:"link-secondary",href:"#"})],-1),J={class:"nav flex-column mb-2"},Y={class:"nav-item"},K=(0,n.createElementVNode)("i",{class:"fa-regular fa-cart-plus pe-3"},null,-1),Q=(0,n.createTextVNode)(" Создать товар "),X={class:"col-md-9 ms-sm-auto col-lg-10 px-md-4 mb-5"};var ee=a(4865),te=a.n(ee),ae=(a(9680),a(7244));const ne={name:"Layout",components:{},data:function(){return{}},methods:{},created:function(){},beforeMount:function(){te().done()},mounted:function(){var e=new ae.UO($("#sidebarMenu"),{toggle:!1});$(".nav-link").click((function(){window.innerWidth<=768&&e.toggle()}))}};const re=(0,a(3744).Z)(ne,[["render",function(e,t,a,$,ee,te){var ae=(0,n.resolveComponent)("Head"),ne=(0,n.resolveComponent)("Link");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(ae,null,{default:(0,n.withCtx)((function(){return[r,o]})),_:1}),(0,n.createElementVNode)("header",l,[i,s,(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("div",d,[(0,n.createVNode)(ne,{as:"button",class:"nav-link bg-transparent border-0 px-3",href:"/logout?is_admin=1",method:"post"},{default:(0,n.withCtx)((function(){return[u]})),_:1})])])]),(0,n.createElementVNode)("div",m,[(0,n.createElementVNode)("div",p,[(0,n.createElementVNode)("div",f,[(0,n.createElementVNode)("nav",h,[(0,n.createElementVNode)("div",v,[(0,n.createElementVNode)("ul",b,[(0,n.createElementVNode)("li",g,[(0,n.createVNode)(ne,{class:(0,n.normalizeClass)([{active:"/admin"===e.$page.url},"nav-link"]),"aria-current":"page",href:"/admin"},{default:(0,n.withCtx)((function(){return[N,V]})),_:1},8,["class"])]),(0,n.createElementVNode)("li",w,[(0,n.createVNode)(ne,{class:(0,n.normalizeClass)([{active:e.$page.url.startsWith("/admin/orders")},"nav-link"]),"aria-current":"page",href:"/admin/orders"},{default:(0,n.withCtx)((function(){return[E,y]})),_:1},8,["class"])]),(0,n.createElementVNode)("li",x,[(0,n.createVNode)(ne,{class:(0,n.normalizeClass)([{active:"/admin/products"===e.$page.url},"nav-link"]),"aria-current":"page",href:"/admin/products"},{default:(0,n.withCtx)((function(){return[k,C]})),_:1},8,["class"])]),(0,n.createElementVNode)("li",A,[(0,n.createVNode)(ne,{class:(0,n.normalizeClass)([{active:e.$page.url.startsWith("/admin/users")},"nav-link"]),"aria-current":"page",href:"/admin/users"},{default:(0,n.withCtx)((function(){return[T,M]})),_:1},8,["class"])])]),S,(0,n.createElementVNode)("ul",W,[(0,n.createElementVNode)("li",I,[(0,n.createVNode)(ne,{class:(0,n.normalizeClass)([{active:e.$page.url.startsWith("/admin/seos")},"nav-link"]),"aria-current":"page",href:"/admin/seos"},{default:(0,n.withCtx)((function(){return[_,j]})),_:1},8,["class"])]),(0,n.createElementVNode)("li",q,[(0,n.createVNode)(ne,{class:(0,n.normalizeClass)([{active:e.$page.url.startsWith("/admin/shops")},"nav-link"]),"aria-current":"page",href:"/admin/shops"},{default:(0,n.withCtx)((function(){return[B,z]})),_:1},8,["class"])]),(0,n.createElementVNode)("li",D,[(0,n.createVNode)(ne,{class:(0,n.normalizeClass)([{active:"/admin/settings/yandex-metrics"===e.$page.url},"nav-link"]),"aria-current":"page",href:"/admin/settings/yandex-metrics"},{default:(0,n.withCtx)((function(){return[L,F]})),_:1},8,["class"])]),(0,n.createElementVNode)("li",P,[(0,n.createVNode)(ne,{class:(0,n.normalizeClass)([{active:"/admin/settings/products"===e.$page.url},"nav-link"]),"aria-current":"page",href:"/admin/settings/products"},{default:(0,n.withCtx)((function(){return[H,O]})),_:1},8,["class"])]),(0,n.createElementVNode)("li",Z,[(0,n.createVNode)(ne,{class:(0,n.normalizeClass)([{active:"/admin/settings/index-page"===e.$page.url},"nav-link"]),"aria-current":"page",href:"/admin/settings/index-page"},{default:(0,n.withCtx)((function(){return[U,R]})),_:1},8,["class"])])]),G,(0,n.createElementVNode)("ul",J,[(0,n.createElementVNode)("li",Y,[(0,n.createVNode)(ne,{class:"nav-link",href:"/admin/products/create"},{default:(0,n.withCtx)((function(){return[K,Q]})),_:1})])])])]),(0,n.createElementVNode)("main",X,[(0,n.renderSlot)(e.$slots,"default")])])])])],64)}]])}}]);
//# sourceMappingURL=762.js.map